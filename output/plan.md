# 実装ゴール
- **最低限の完成イメージ**:
  - 絵文字投稿（1〜3個）ができる
  - タイムラインに投稿が時系列表示される
  - 5種類の絵文字リアクション（👍 ❤️ 😂 😮 🎉）が追加・削除できる
  - モックデータを使ったローカル動作デモが可能
  
- **デモで確認するポイント**:
  - 投稿モーダルから絵文字を選択して投稿できる
  - タイムラインに新規投稿が即座に反映される
  - リアクションボタンをクリックして数が増減する
  - バリデーションエラー（絵文字0個または4個以上）が表示される

# スコープ
- **含めるもの**:
  - 絵文字投稿機能（1〜3個制限、バリデーション付き）
  - タイムライン表示（時系列、カード形式）
  - 絵文字リアクション機能（5種類固定）
  - モックAPIとデモデータ（`localStorage` ベース）
  - 投稿成功時のトースト通知

- **含めないもの（時間が足りない場合の後回し候補）**:
  - ユーザー認証・ログイン機能
  - プロフィール編集
  - 投稿の削除・編集機能
  - 無限スクロール（初期は10件表示のみ）
  - レスポンシブ対応の細かい調整
  - アクセシビリティ対応（キーボード操作等）

- **前提条件（ツール、バージョン、環境）**:
  - Node.js 18.x 以上がインストール済み
  - npm または yarn が利用可能
  - Chrome / Edge / Safari 最新版
  - ローカル開発環境（localhost）
  - エディタ: VS Code 推奨

# ステップ別プラン

## ステップ1: 環境準備とプロジェクトセットアップ
- **目的**: Vite + React の開発環境を構築し、必要なライブラリをインストールする
- **アウトプット**: 
  - プロジェクトディレクトリの作成
  - 起動確認（`npm run dev` でブラウザに表示）
- **手順**:
  1. `npm create vite@latest emojilink -- --template react` でプロジェクト作成
  2. プロジェクトディレクトリに移動して `npm install`
  3. 絵文字ピッカーライブラリをインストール: `npm install emoji-picker-react`
  4. `npm run dev` で開発サーバー起動を確認
- **所要目安**: 10分

## ステップ2: データモデルとモックデータの準備
- **目的**: 投稿とリアクションのデータ構造を定義し、初期デモデータを用意する
- **アウトプット**:
  - `src/data/posts.json` にモックデータ（投稿3〜5件）
  - TypeScript 型定義ファイル（`src/types/index.ts`）
- **手順**:
  1. `src/data/` ディレクトリを作成
  2. `posts.json` を作成し、仕様書のモックデータ例を参考に3〜5件の投稿を記述
  3. `src/types/index.ts` に `Post`, `Reaction`, `User` の interface を定義
  4. 初期データを `localStorage` に保存する処理を準備（`src/utils/storage.ts`）
- **所要目安**: 15分

## ステップ3: 基本レイアウトとヘッダーの実装
- **目的**: アプリの骨格となるレイアウトとヘッダーを作成する
- **アウトプット**:
  - `Header` コンポーネント（タイトル、投稿ボタン、アイコン）
  - 基本的なページレイアウト
- **手順**:
  1. `src/components/Header.tsx` を作成
  2. アプリタイトル「EmojiLink 🌐」を左揃えで表示
  3. 右上に投稿ボタン「＋」を配置
  4. 簡易プロフィールアイコン「👤」を右上に配置（固定）
  5. CSS で基本スタイリング（flexbox でヘッダー配置）
- **所要目安**: 10分

## ステップ4: タイムライン表示の実装
- **目的**: 投稿一覧を時系列でカード形式に表示する
- **アウトプット**:
  - `Timeline` コンポーネント
  - `PostCard` コンポーネント（投稿者、絵文字、日時、リアクションエリア）
- **手順**:
  1. `src/components/Timeline.tsx` を作成
  2. `localStorage` からモックデータを読み込み、state に格納
  3. `PostCard` コンポーネントを作成（`src/components/PostCard.tsx`）
  4. 各カードに投稿者アイコン、絵文字（大きめ表示）、投稿日時を表示
  5. リアクションエリアのプレースホルダーを配置
  6. 空状態の表示対応（「まだ投稿がありません 🎉 最初の投稿をしてみよう！」）
- **所要目安**: 20分

## ステップ5: 投稿モーダルの実装
- **目的**: 絵文字ピッカーを使った投稿機能を実装する
- **アウトプット**:
  - `PostModal` コンポーネント
  - 絵文字選択、プレビュー、バリデーション、投稿処理
- **手順**:
  1. `src/components/PostModal.tsx` を作成
  2. `emoji-picker-react` ライブラリを組み込み
  3. 選択済み絵文字のプレビュー表示（1〜3個）
  4. バリデーション: 0個または4個以上の場合にエラーメッセージ表示
  5. 「投稿する 🚀」ボタンクリックで新規投稿を state に追加
  6. `localStorage` にデータを保存
  7. モーダルを閉じてタイムラインを更新
  8. ヘッダーの「＋」ボタンクリックでモーダル表示
- **所要目安**: 25分

## ステップ6: リアクション機能の実装
- **目的**: 5種類の絵文字リアクションを追加・削除できるようにする
- **アウトプット**:
  - `ReactionButton` コンポーネント
  - リアクション追加・削除ロジック
- **手順**:
  1. `src/components/ReactionButton.tsx` を作成
  2. 5種類のリアクション絵文字（👍 ❤️ 😂 😮 🎉）をボタンとして配置
  3. クリックで該当投稿のリアクション数を増減
  4. state を更新し、`localStorage` に保存
  5. リアクション数を絵文字と数字で表示（例: 👍 3）
  6. アニメーション（拡大→縮小）を CSS で追加
- **所要目安**: 20分

## ステップ7: トースト通知の実装
- **目的**: 投稿成功時にフィードバックを表示する
- **アウトプット**:
  - `Toast` コンポーネント
  - 投稿成功時の「投稿しました！✨」メッセージ
- **手順**:
  1. `src/components/Toast.tsx` を作成
  2. state でトーストの表示/非表示を管理
  3. 投稿成功時にトーストを表示し、2秒後に自動で消去
  4. CSS でトーストを画面上部に固定表示
- **所要目安**: 10分

## ステップ8: スタイリングと UI 調整
- **目的**: 見た目を整え、高校生が触って楽しいと感じるデザインにする
- **アウトプット**:
  - 統一感のある配色とレイアウト
  - ボタンやカードのホバー効果
- **手順**:
  1. CSS Modules または Tailwind CSS で各コンポーネントをスタイリング
  2. 投稿カードに影やボーダーを追加
  3. ボタンにホバー効果やアクティブ状態のスタイルを追加
  4. 絵文字の表示サイズを調整（投稿絵文字は大きめ、リアクションは小さめ）
  5. レスポンシブ対応（最低限スマホとPC画面で表示確認）
- **所要目安**: 15分

## ステップ9: 結合テストとデバッグ
- **目的**: 全機能が正しく動作することを確認する
- **アウトプット**:
  - 動作確認済みのアプリケーション
  - バグや不具合の修正
- **手順**:
  1. 投稿機能の動作確認（1〜3個の絵文字投稿、バリデーションエラー）
  2. タイムライン表示の確認（新規投稿が上に追加される）
  3. リアクション機能の動作確認（5種類すべてで増減確認）
  4. トースト通知の表示確認
  5. `localStorage` のデータ永続化確認（リロード後もデータが残る）
  6. 各ブラウザ（Chrome, Edge, Safari）で表示確認
- **所要目安**: 10分

## ステップ10: デモデータ投入と最終確認
- **目的**: デモ用の投稿とリアクションを追加し、体験授業の準備を完了する
- **アウトプット**:
  - デモに使える投稿データ（5〜10件）
  - リアクションが複数ついた投稿
- **手順**:
  1. 投稿モーダルから複数の投稿を手動で追加（または `localStorage` に直接書き込み）
  2. 各投稿にリアクションを追加して多様性を持たせる
  3. タイムラインがにぎやかになるように調整
  4. デモ用の操作手順を確認（投稿→リアクション→トースト表示）
  5. 最終的な動作確認とスクリーンショット取得
- **所要目安**: 10分

# リスクと対策

## 時間超過リスク
- **リスク**: 65分の体験授業内で実装が完了しない
- **対策**:
  - ステップ8（スタイリング）を簡素化し、最低限の見た目で進める
  - TypeScript を使わず JavaScript のみで実装（型定義をスキップ）
  - プロフィール機能を完全にスキップし、固定ユーザーのみで進める

## 技術的リスク
- **リスク**: `emoji-picker-react` の動作不良やバージョン問題
- **対策**:
  - 事前にライブラリの動作確認を行う
  - 必要に応じてOSネイティブの絵文字ピッカー（`<input type="text">`）で代替
  - ドキュメントやサンプルコードを手元に用意しておく

## デモ準備リスク
- **リスク**: `localhost` でのデモがうまく動作しない、データが消える
- **対策**:
  - `localStorage` のバックアップとして `posts.json` を保持
  - デモ前に一度ブラウザをリロードして動作確認
  - 開発サーバーが起動しない場合に備えて Vite のトラブルシューティングを確認

# 実行時メモ

## コマンド例
```bash
# プロジェクト作成
npm create vite@latest emojilink -- --template react

# ディレクトリ移動と依存関係インストール
cd emojilink
npm install

# 絵文字ピッカーライブラリのインストール
npm install emoji-picker-react

# 開発サーバー起動
npm run dev
```

## デモ用データ投入方法
1. ブラウザの開発者ツール（F12）を開く
2. Console タブで以下を実行してモックデータを投入:
```javascript
localStorage.setItem('emojilink-posts', JSON.stringify([
  {
    id: 'post-001',
    emojis: ['😊', '🌸'],
    userId: 'user-001',
    userName: 'Guest User',
    userIcon: '👤',
    reactions: [
      { emoji: '👍', count: 3 },
      { emoji: '❤️', count: 1 }
    ],
    createdAt: new Date().toISOString()
  },
  {
    id: 'post-002',
    emojis: ['🎉', '🎊', '🎈'],
    userId: 'user-001',
    userName: 'Guest User',
    userIcon: '👤',
    reactions: [
      { emoji: '😂', count: 5 },
      { emoji: '🎉', count: 2 }
    ],
    createdAt: new Date().toISOString()
  }
]));
```
3. ページをリロードして反映を確認
